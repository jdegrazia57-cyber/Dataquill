<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Dataquill — Turn Your Data Into Decisions</title>
<meta name="description" content="Dataquill: AI powered embedded analytics platform. Upload a CSV and explore widgets in a clean black-and-teal UI." />

<!-- Social (you can update og:image later) -->
<meta property="og:type" content="website" />
<meta property="og:title" content="Dataquill — Turn Your Data Into Decisions" />
<meta property="og:description" content="AI powered embedded analytics platform. Upload a CSV and explore widgets in a clean black-and-teal UI." />
<meta property="og:url" content="/" />
<meta name="twitter:card" content="summary_large_image" />

<style>
:root{
  --bg:#000a0e;
  --surface:#0b1418;
  --card:#0f1c22;
  --muted:#18242a;
  --text:#eaffff;
  --sub:#9fcfe7;
  --teal1:#19b6a5;
  --teal2:#0aa8a0;
  --teal3:#067a74;
  --glow: 0 0 30px rgba(0, 255, 214, .15), 0 0 8px rgba(0, 255, 214, .12);
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;background:radial-gradient(1000px 600px at 20% -10%, #072128 0%, #031014 35%, var(--bg) 80%);
  color:var(--text);font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial; 
}

/* Top bar */
.topbar{
  position:sticky;top:0;z-index:10;
  display:flex;align-items:center;justify-content:space-between;
  padding:.9rem 1.1rem;background:linear-gradient(180deg, rgba(5,16,22,.9), rgba(5,16,22,.6));
  backdrop-filter: blur(6px); border-bottom:1px solid #0f2a31;
}
.brand{
  display:flex;align-items:center;gap:.6rem;font-weight:700;letter-spacing:.2px;
}
.brand .dot{
  width:22px;height:22px;border-radius:6px;
  background: radial-gradient(circle at 30% 25%, #58ffe8, #00e7d0 55%, #00b6aa 85%);
  box-shadow: var(--glow);
}
.brand span{font-size:1.05rem}

.nav{
  display:flex;gap:.4rem;align-items:center;
}
.nav a{
  color:#dff; text-decoration:none; font-size:.92rem;
  padding:.4rem .7rem; border-radius:.6rem; border:1px solid #103640;
  background:linear-gradient(180deg,#052027,#071c21); 
}
.nav a:hover{border-color:#1e6e76; box-shadow:var(--glow)}
.nav .cta{
  background:linear-gradient(180deg,#0ab6a8,#07867f);
  border-color:#0ab6a8;color:#001314;font-weight:700;
}

/* Sections */
.section{padding:1.2rem; max-width:1100px; margin:0 auto;}
.card{
  background:linear-gradient(180deg, #0a151a, #081419);
  border:1px solid #113640; border-radius:14px; padding:1rem; box-shadow: var(--glow);
}
.hrow{display:grid;grid-template-columns:1fr 1fr; gap:1rem}
.h{font-weight:800; font-size:1.35rem; color:#aef; margin:.2rem 0 .6rem}

/* Drop area & stats */
.drop{
  border:2px dashed #1b6b74; border-radius:12px; padding:1.1rem; text-align:center; 
  background: #07161b; color:#cfe; cursor:pointer;
}
.drop:hover{border-color:#2fcad0; box-shadow:var(--glow)}
.btns{display:flex; flex-wrap:wrap; gap:.6rem; margin:.8rem 0}
.btn{
  border:1px dashed #197c86; background:#062329; color:#e7ffff; 
  padding:.5rem .8rem; border-radius:.8rem; cursor:pointer; font-size:.9rem;
}
.btn:hover{border-style:solid; box-shadow:var(--glow)}

.kpis{display:flex; gap:.8rem; flex-wrap:wrap; margin:.8rem 0}
.kpi{flex:1 1 120px; background:#07161b; border:1px solid #133c45; border-radius:10px; padding:.6rem}
.kpi .lab{color:#8fbcc9; font-size:.8rem;margin-bottom:.25rem}
.kpi .val{font-weight:800; font-size:1.2rem}

/* Grid below: table + chart */
.grid{
  display:grid; grid-template-columns:1.2fr .8fr; gap:1rem;
}
.tablewrap{
  background:#07161b; border:1px solid #133c45; border-radius:12px; overflow:auto;
}
table{width:100%; border-collapse:collapse; font-size:.95rem}
th,td{padding:.6rem .7rem; border-bottom:1px solid #0f2a31; white-space:nowrap}
th{position:sticky; top:0; background:#0a1c21; color:#bfe}
tr:hover td{background:#061a20}

/* Chart card */
.chart{
  background:#07161b; border:1px solid #133c45; border-radius:12px; padding:.6rem .8rem
}
canvas{width:100%; height:280px}

/* Pricing / FAQ / Footer */
.subgrid{display:grid; grid-template-columns:1fr 1fr; gap:1rem}
.footer{opacity:.9; text-align:center; padding:2rem 1rem; color:#9fd}
small a{color:#9fd}

/* Small screens */
@media (max-width:900px){
  .hrow{grid-template-columns:1fr}
  .grid{grid-template-columns:1fr}
  canvas{height:240px}
}
</style>
</head>
<body>

<header class="topbar">
  <div class="brand"><div class="dot"></div><span>Dataquill</span></div>
  <nav class="nav">
    <a href="#pricing">Pricing</a>
    <a href="#faq">FAQ</a>
    <a href="#app" class="cta">Live App</a>
  </nav>
</header>

<main>
  <!-- Hero -->
  <section class="section">
    <div class="hrow">
      <div class="card">
        <div class="h">AI powered embedded analytics platform</div>
        <p style="color:#98c7d6;line-height:1.5;margin:.2rem 0 0">
          Upload a CSV to get instant KPIs, a table view, and a quick chart. Export, white-label, and ship.
        </p>
      </div>
      <div class="card">
        <div class="h">Quick charts</div>
        <p style="color:#98c7d6">The first numeric column is charted automatically.</p>
      </div>
    </div>
  </section>

  <!-- Live App -->
  <section class="section" id="app">
    <div class="card">
      <div class="h">Drop or choose a CSV</div>

      <div id="drop" class="drop" tabindex="0" role="button" aria-label="Upload CSV">
        Drag a .csv here or <span style="text-decoration:underline">browse</span>
        <input id="file" type="file" accept=".csv" style="display:none" />
      </div>

      <div class="btns">
        <button class="btn" id="loadSample">Load Sample</button>
        <button class="btn" id="clear">Clear Data</button>
      </div>

      <div class="kpis">
        <div class="kpi"><div class="lab">Rows</div><div class="val" id="rows">0</div></div>
        <div class="kpi"><div class="lab">Columns</div><div class="val" id="cols">0</div></div>
        <div class="kpi"><div class="lab">Sample</div><div class="val" id="sample">—</div></div>
      </div>

      <div class="grid">
        <div class="tablewrap"><table id="table"></table></div>
        <div class="chart">
          <canvas id="chart" width="600" height="280" aria-label="Quick chart"></canvas>
        </div>
      </div>
    </div>
  </section>

  <!-- Pricing + FAQ -->
  <section class="section subgrid">
    <div class="card" id="pricing">
      <div class="h">Pricing</div>
      <p><strong>Free:</strong> Upload CSV and preview widgets instantly.</p>
      <p><strong>Pro (TBD):</strong> Export dashboards, white-label branding, priority support.</p>
    </div>

    <div class="card" id="faq">
      <div class="h">FAQ</div>
      <p><strong>Is my data sent to a server?</strong><br/>No. All processing happens in your browser.</p>
      <p><strong>What file formats are supported?</strong><br/>CSV for now. More coming soon.</p>
    </div>
  </section>

  <footer class="footer">
    <small>© 2025 Dataquill. All rights reserved.</small>
  </footer>
</main>

<script>
/* ---------- Helpers ---------- */
const $ = sel => document.querySelector(sel);

function parseCSV(text){
  // Simple CSV parser w/ quoted values
  const rows = [];
  let row = [], val = '', inQuotes = false;
  for(let i=0;i<text.length;i++){
    const c = text[i], n = text[i+1];
    if(c === '"' ){
      if(inQuotes && n === '"'){ val+='"'; i++; }
      else inQuotes = !inQuotes;
    }else if(c === ',' && !inQuotes){ row.push(val); val=''; }
    else if((c === '\n' || c === '\r') && !inQuotes){
      if(val!=='' || row.length){ row.push(val); rows.push(row); row=[]; val=''; }
      if(c === '\r' && n === '\n') i++;
    }else{
      val += c;
    }
  }
  if(val!=='' || row.length){ row.push(val); rows.push(row); }
  return rows.filter(r => r.length && r.join('').trim()!=='');
}

/* ---------- State ---------- */
let headers = [];
let dataRows = [];

/* ---------- DOM ---------- */
const fileInput = $("#file");
const drop = $("#drop");
const tableEl = $("#table");
const rowsEl = $("#rows");
const colsEl = $("#cols");
const sampleEl = $("#sample");
const chartCanvas = $("#chart");
const ctx = chartCanvas.getContext("2d");

/* ---------- Chart ---------- */
function drawChart(){
  // find first numeric column
  if(!headers.length || !dataRows.length){ ctx.clearRect(0,0,chartCanvas.width, chartCanvas.height); return; }
  const cols = headers.length;
  let numCol = -1;
  for(let c=0; c<cols; c++){
    if(dataRows.some(r => !isNaN(parseFloat(r[c])))){ numCol = c; break; }
  }
  if(numCol===-1){ ctx.clearRect(0,0,chartCanvas.width, chartCanvas.height); return; }

  const labels = dataRows.map(r => r[0] || '');
  const values = dataRows.map(r => parseFloat(r[numCol]) || 0);

  // draw simple bar chart
  const W = chartCanvas.width, H = chartCanvas.height;
  ctx.clearRect(0,0,W,H);
  const padL=40, padR=10, padT=15, padB=30;
  const innerW = W - padL - padR, innerH = H - padT - padB;
  ctx.fillStyle = "#061a20"; ctx.fillRect(0,0,W,H);
  // axes
  ctx.strokeStyle = "#1a6c74"; ctx.lineWidth = 1.2;
  ctx.beginPath(); ctx.moveTo(padL, padT); ctx.lineTo(padL, padT+innerH); ctx.lineTo(padL+innerW, padT+innerH); ctx.stroke();

  const maxV = Math.max(...values, 0.0001);
  const barW = innerW / values.length * 0.75;
  const gap = innerW / values.length * 0.25;
  ctx.fillStyle = "#19b6a5";
  values.forEach((v,i)=>{
    const h = (v/maxV) * (innerH-4);
    const x = padL + i*(barW+gap) + gap/2;
    const y = padT + innerH - h;
    ctx.fillRect(x,y,barW,h);
  });

  // x labels (first 10)
  ctx.fillStyle = "#9fcfe7"; ctx.font = "12px system-ui, sans-serif"; ctx.textAlign="center";
  values.slice(0,10).forEach((_,i)=>{
    const x = padL + i*(barW+gap) + gap/2 + barW/2;
    ctx.fillText((labels[i]||'').slice(0,8), x, H-10);
  });
}

/* ---------- Table ---------- */
function renderTable(){
  if(!headers.length){ tableEl.innerHTML=''; return; }
  let html = "<thead><tr>";
  headers.forEach(h => html += `<th>${escapeHtml(h)}</th>`);
  html += "</tr></thead><tbody>";
  dataRows.forEach(r=>{
    html += "<tr>";
    for(let i=0;i<headers.length;i++){
      html += `<td>${escapeHtml(r[i] ?? "")}</td>`;
    }
    html += "</tr>";
  });
  html += "</tbody>";
  tableEl.innerHTML = html;
}

function escapeHtml(s){ return String(s).replace(/[&<>"']/g, m => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[m])); }

/* ---------- Loaders ---------- */
function useCSV(text){
  const rows = parseCSV(text);
  if(!rows.length){ return; }
  headers = rows[0];
  dataRows = rows.slice(1);

  rowsEl.textContent = dataRows.length;
  colsEl.textContent = headers.length;
  sampleEl.textContent = (dataRows[0] && dataRows[0][0]) ? dataRows[0][0] : '—';

  renderTable();
  drawChart();
}

function clearData(){
  headers = []; dataRows = [];
  rowsEl.textContent = '0';
  colsEl.textContent = '0';
  sampleEl.textContent = '—';
  tableEl.innerHTML = '';
  drawChart();
}

/* ---------- Events ---------- */
drop.addEventListener("click", () => fileInput.click());
drop.addEventListener("keydown", (e)=>{ if(e.key==='Enter' || e.key===' '){ e.preventDefault(); fileInput.click(); } });
drop.addEventListener("dragover", e => { e.preventDefault(); drop.style.borderColor='#2fcad0'; });
drop.addEventListener("dragleave", e => { drop.style.borderColor='#1b6b74'; });
drop.addEventListener("drop", e => {
  e.preventDefault(); drop.style.borderColor='#1b6b74';
  const f = e.dataTransfer.files?.[0];
  if(f) readFile(f);
});
fileInput.addEventListener("change", e => {
  const f = e.target.files?.[0];
  if(f) readFile(f);
});

function readFile(f){
  const r = new FileReader();
  r.onload = () => useCSV(r.result);
  r.readAsText(f);
}

$("#loadSample").addEventListener("click", ()=> {
  const sample = `Name,City,Sales
Alice,New York,120
Bob,Miami,95
Cara,Chicago,141`;
  useCSV(sample);
});
$("#clear").addEventListener("click", clearData);

// initial blank chart
drawChart();
</script>
</body>
</html><!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>Dataquill — AI powered embedded analytics platform</title>
  <meta name="description" content="Dataquill: AI powered embedded analytics platform. Upload a CSV to get instant KPIs, a table view, and quick charts. Export, white-label, and ship." />

  <meta property="og:type" content="website" />
  <meta property="og:title" content="Dataquill — AI powered embedded analytics platform" />
  <meta property="og:description" content="Upload a CSV to get instant KPIs, a table view, and quick charts. Export, white-label, and ship." />
  <meta property="og:url" content="/" />
  <meta name="twitter:card" content="summary_large_image" />

  <style>
    :root{
      --bg:#000814;
      --panel:#041a28;
      --panel-2:#072037;
      --text:#e6ffff;
      --muted:#9fe7e1;
      --teal1:#14c6bb;
      --teal2:#0ea5a3;
      --glow: rgba(20, 198, 187, .35);
      --shadow: 0 0 24px rgba(20,198,187,.08), 0 8px 24px rgba(0,0,0,.45);
      --radius: 14px;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font:16px/1.5 ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
      color:var(--text);
      background:
        radial-gradient(1200px 600px at 30% -5%, rgba(20,198,187,.18), transparent 55%),
        radial-gradient(800px 500px at 85% -10%, rgba(60,105,255,.12), transparent 50%),
        var(--bg);
      letter-spacing:.2px;
    }
    header{
      display:flex;
      justify-content:space-between;
      align-items:center;
      padding:1rem 2rem;
      background:var(--panel);
      box-shadow:var(--shadow);
    }
    header h1{font-size:1.4rem;margin:0;color:var(--teal1);}
    nav a{
      color:var(--text);
      text-decoration:none;
      margin-left:1.5rem;
      font-size:0.95rem;
    }
    main{
      padding:2rem;
      display:grid;
      gap:2rem;
      max-width:1100px;
      margin:auto;
    }
    section{
      background:var(--panel-2);
      border-radius:var(--radius);
      padding:1.5rem;
      box-shadow:var(--shadow);
    }
    h2{margin-top:0;font-size:1.25rem;color:var(--teal1);}
    table{
      width:100%;
      border-collapse:collapse;
      margin-top:1rem;
    }
    th,td{
      border-bottom:1px solid var(--teal2);
      padding:.5rem .75rem;
      text-align:left;
    }
    .csv-drop{
      border:2px dashed var(--teal1);
      border-radius:var(--radius);
      padding:2rem;
      text-align:center;
      cursor:pointer;
    }
    .csv-drop.drag{background:rgba(20,198,187,.08);}
    button{
      background:var(--teal2);
      color:#fff;
      border:none;
      padding:.5rem 1rem;
      border-radius:var(--radius);
      cursor:pointer;
      margin-right:.5rem;
    }
    button:hover{background:var(--teal1);}
    footer{
      text-align:center;
      padding:2rem;
      font-size:0.85rem;
      color:var(--muted);
    }
  </style>
</head>
<body>
  <header>
    <h1>Dataquill</h1>
    <nav>
      <a href="#">Pricing</a>
      <a href="#">FAQ</a>
      <a href="#">Live App</a>
    </nav>
  </header>

  <main>
    <section>
      <h2>AI powered embedded analytics platform</h2>
      <p>Upload a CSV to get instant KPIs, a table view, and a quick chart. Export, white-label, and ship.</p>
    </section>

    <section>
      <h2>Drop or choose a CSV</h2>
      <div class="csv-drop" id="dropZone">Drag a .csv here or <span style="text-decoration:underline;cursor:pointer;" id="browseLink">browse</span></div>
      <input type="file" id="fileInput" accept=".csv" style="display:none" />
      <div style="margin-top:1rem;">
        <button onclick="loadSample()">Load Sample</button>
        <button onclick="clearData()">Clear Data</button>
      </div>
      <table id="dataTable"></table>
    </section>

    <section>
      <h2>Quick charts</h2>
      <canvas id="chartCanvas" width="400" height="200"></canvas>
    </section>
  </main>

  <footer>
    © 2025 Dataquill. All rights reserved.
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script>
    const fileInput = document.getElementById('fileInput');
    const dropZone = document.getElementById('dropZone');
    const dataTable = document.getElementById('dataTable');
    const ctx = document.getElementById('chartCanvas').getContext('2d');
    let chart;

    document.getElementById('browseLink').onclick = () => fileInput.click();

    dropZone.addEventListener('dragover', e => {
      e.preventDefault();
      dropZone.classList.add('drag');
    });
    dropZone.addEventListener('dragleave', () => dropZone.classList.remove('drag'));
    dropZone.addEventListener('drop', e => {
      e.preventDefault();
      dropZone.classList.remove('drag');
      if (e.dataTransfer.files.length) handleFile(e.dataTransfer.files[0]);
    });
    fileInput.addEventListener('change', e => {
      if (e.target.files.length) handleFile(e.target.files[0]);
    });

    function handleFile(file){
      const reader = new FileReader();
      reader.onload = e => parseCSV(e.target.result);
      reader.readAsText(file);
    }

    function parseCSV(text){
      const rows = text.trim().split(/\r?\n/).map(r => r.split(','));
      renderTable(rows);
      renderChart(rows);
    }

    function renderTable(rows){
      dataTable.innerHTML = '';
      if(rows.length){
        const header = '<tr>' + rows[0].map(c => `<th>${c}</th>`).join('') + '</tr>';
        const body = rows.slice(1).map(r => '<tr>' + r.map(c => `<td>${c}</td>`).join('') + '</tr>').join('');
        dataTable.innerHTML = header + body;
      }
    }

    function renderChart(rows){
      if(!rows.length || rows[0].length < 2) return;
      const labels = rows.slice(1).map(r => r[0]);
      const values = rows.slice(1).map(r => parseFloat(r[1]) || 0);
      if(chart) chart.destroy();
      chart = new Chart(ctx, {
        type:'bar',
        data:{
          labels,
          datasets:[{label:rows[0][1], data:values, backgroundColor:'rgba(20,198,187,.6)'}]
        },
        options:{responsive:true,scales:{y:{beginAtZero:true}}}
      });
    }

    function loadSample(){
      const sample = "Name,Sales\nAlice,120\nBob,95\nCara,141";
      parseCSV(sample);
    }

    function clearData(){
      dataTable.innerHTML = '';
      if(chart) chart.destroy();
    }
  </script>
</body>
</html><!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Dataquill – Turn Your Data Into Decisions</title>
  <meta name="description" content="Dataquill: AI powered embedded analytics platform. Upload a CSV and explore widgets instantly in a clean black-and-teal UI." />

  <!-- Open Graph -->
  <meta property="og:title" content="Dataquill – Turn Your Data Into Decisions" />
  <meta property="og:description" content="AI powered embedded analytics platform. Upload a CSV and explore widgets in a clean black-and-teal UI." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://dataquill.vercel.app/" />
  <meta name="twitter:card" content="summary_large_image" />

  <style>
    :root{
      --bg:#000; --panel:#0b1418; --card:#0f1c22; --text:#e9ffff;
      --muted:#9fe7e1; --accent:#00e0c3; --accentDim:#00b8a1; --border:#124e4b;
    }
    *{box-sizing:border-box}
    body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;background:var(--bg);color:var(--text)}
    a{color:var(--muted)}
    header{display:flex;justify-content:space-between;align-items:center;padding:14px 22px;background:var(--panel);position:sticky;top:0;z-index:10}
    .brand{font-weight:800;font-size:22px;color:var(--accent)}
    nav a{margin-left:16px;text-decoration:none;color:var(--text);opacity:.9}
    nav a:hover{opacity:1}
    main{padding:18px}
    .panel{background:var(--card);border:1px solid var(--border);border-radius:14px;padding:18px;margin:14px auto;max-width:1100px}
    h1,h2{margin:0 0 10px}
    .dropzone{
      border:2px dashed var(--accent);border-radius:12px;padding:28px;text-align:center;
      transition:all .2s ease;background:rgba(0,224,195,.04)
    }
    .dropzone.drag{background:rgba(0,224,195,.08);border-color:#64ffe9;transform:scale(1.01)}
    .actions{display:flex;gap:10px;flex-wrap:wrap;margin-top:12px}
    .btn{background:var(--accent);border:none;color:#003b34;font-weight:700;padding:10px 14px;border-radius:10px;cursor:pointer}
    .btn.secondary{background:transparent;border:1px solid var(--border);color:var(--text)}
    .stats{display:flex;gap:12px;margin-top:12px;flex-wrap:wrap}
    .stat{background:#061315;border:1px solid var(--border);padding:10px 12px;border-radius:10px;min-width:120px}
    table{width:100%;border-collapse:collapse;margin-top:12px}
    th,td{border-bottom:1px solid var(--border);padding:8px 10px;text-align:left;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
    th{color:var(--muted)}
    footer{text-align:center;padding:28px;background:var(--panel);margin-top:24px;border-top:1px solid var(--border)}
    .hint{opacity:.8;font-size:.95rem}
  </style>
</head>
<body>
  <header>
    <div class="brand">Dataquill</div>
    <nav>
      <a href="#pricing">Pricing</a>
      <a href="#faq">FAQ</a>
      <a href="#live-app">Live App</a>
    </nav>
  </header>

  <main>
    <section class="panel">
      <h1>Dataquill</h1>
      <p class="hint">AI powered embedded analytics platform</p>
    </section>

    <section id="live-app" class="panel">
      <h2>Drop your CSV file</h2>
      <p class="hint">Drag &amp; drop or tap <strong>Browse</strong> to choose a CSV. Rows will render instantly below.</p>

      <!-- Hidden file input (triggered by “Browse” button) -->
      <input id="csvInput" type="file" accept=".csv,text/csv" style="display:none" />

      <div id="dropzone" class="dropzone" role="button" aria-label="CSV Drop Area">
        Drag a .csv here or <a id="browseLink" href="#">browse</a>
      </div>

      <div class="actions">
        <button id="clearBtn" class="btn secondary" type="button">Clear Data</button>
        <button id="loadSampleBtn" class="btn secondary" type="button">Load Sample</button>
      </div>

      <div class="stats" id="stats" style="display:none">
        <div class="stat"><div class="hint">Rows</div><div id="rowsCount">0</div></div>
        <div class="stat"><div class="hint">Columns</div><div id="colsCount">0</div></div>
        <div class="stat"><div class="hint">Sample</div><div id="sampleValue">—</div></div>
      </div>

      <div id="previewWrap" style="overflow:auto">
        <table id="previewTable" style="display:none"></table>
      </div>
    </section>

    <section id="pricing" class="panel">
      <h2>Pricing</h2>
      <p><strong>Free:</strong> Upload CSV and preview widgets instantly.</p>
      <p><strong>Pro (TBD):</strong> Export dashboards, white-label branding, priority support.</p>
    </section>

    <section id="faq" class="panel">
      <h2>FAQ</h2>
      <details>
        <summary>Is my data sent to a server?</summary>
        <p>No. All processing happens in your browser.</p>
      </details>
      <details>
        <summary>What file formats are supported?</summary>
        <p>Currently CSV only. More coming soon.</p>
      </details>
    </section>
  </main>

  <footer>© 2025 Dataquill. All rights reserved.</footer>

  <script>
    // --- helpers -------------------------------------------------------------
    const $ = sel => document.querySelector(sel);
    const csvInput = $('#csvInput');
    const dropzone = $('#dropzone');
    const browseLink = $('#browseLink');
    const clearBtn = $('#clearBtn');
    const loadSampleBtn = $('#loadSampleBtn');
    const previewTable = $('#previewTable');
    const stats = $('#stats');
    const rowsCount = $('#rowsCount');
    const colsCount = $('#colsCount');
    const sampleValue = $('#sampleValue');

    function setPreview(headers, rows) {
      // Build table (show up to 100 rows for performance)
      const maxRows = 100;
      previewTable.innerHTML = '';
      const thead = document.createElement('thead');
      const trh = document.createElement('tr');
      headers.forEach(h => {
        const th = document.createElement('th');
        th.textContent = h ?? '';
        trh.appendChild(th);
      });
      thead.appendChild(trh);
      previewTable.appendChild(thead);

      const tbody = document.createElement('tbody');
      rows.slice(0, maxRows).forEach(r => {
        const tr = document.createElement('tr');
        r.forEach(cell => {
          const td = document.createElement('td');
          td.textContent = cell ?? '';
          tr.appendChild(td);
        });
        tbody.appendChild(tr);
      });
      previewTable.appendChild(tbody);

      // Stats
      rowsCount.textContent = rows.length.toLocaleString();
      colsCount.textContent = headers.length;
      sampleValue.textContent = rows.length && rows[0].length ? (rows[0][0] + '') : '—';

      stats.style.display = 'flex';
      previewTable.style.display = 'table';
    }

    function clearPreview() {
      previewTable.style.display = 'none';
      previewTable.innerHTML = '';
      stats.style.display = 'none';
      rowsCount.textContent = '0';
      colsCount.textContent = '0';
      sampleValue.textContent = '—';
    }

    // Robust-ish CSV parser that handles quoted fields & commas inside quotes
    function parseCSV(text) {
      const rows = [];
      let row = [], cur = '', inQuotes = false;
      for (let i = 0; i < text.length; i++) {
        const c = text[i], n = text[i+1];
        if (c === '"' ) {
          if (inQuotes && n === '"') { cur += '"'; i++; }
          else { inQuotes = !inQuotes; }
        } else if (c === ',' && !inQuotes) {
          row.push(cur); cur = '';
        } else if ((c === '\n' || c === '\r') && !inQuotes) {
          if (cur !== '' || row.length) { row.push(cur); rows.push(row); row = []; cur=''; }
          if (c === '\r' && n === '\n') i++; // handle CRLF
        } else {
          cur += c;
        }
      }
      if (cur !== '' || row.length) { row.push(cur); rows.push(row); }
      if (!rows.length) return { headers: [], rows: [] };
      const headers = rows[0];
      return { headers, rows: rows.slice(1) };
    }

    function handleText(text) {
      const { headers, rows } = parseCSV(text);
      if (!headers.length) {
        clearPreview();
        alert('No data found in CSV.');
        return;
      }
      setPreview(headers, rows);
    }

    // --- wiring: browse / drag & drop ---------------------------------------
    browseLink.addEventListener('click', e => {
      e.preventDefault();
      csvInput.click();
    });

    csvInput.addEventListener('change', e => {
      const f = e.target.files && e.target.files[0];
      if (!f) return;
      const reader = new FileReader();
      reader.onload = () => handleText(reader.result);
      reader.readAsText(f);
      // reset input so choosing same file again re-triggers
      e.target.value = '';
    });

    ;['dragenter','dragover'].forEach(evt =>
      dropzone.addEventListener(evt, e => {
        e.preventDefault(); e.stopPropagation();
        dropzone.classList.add('drag');
      })
    );
    ;['dragleave','drop'].forEach(evt =>
      dropzone.addEventListener(evt, e => {
        e.preventDefault(); e.stopPropagation();
        dropzone.classList.remove('drag');
      })
    );
    dropzone.addEventListener('drop', e => {
      const f = e.dataTransfer && e.dataTransfer.files && e.dataTransfer.files[0];
      if (!f) return;
      const reader = new FileReader();
      reader.onload = () => handleText(reader.result);
      reader.readAsText(f);
    });

    // --- misc buttons --------------------------------------------------------
    clearBtn.addEventListener('click', clearPreview);

    loadSampleBtn.addEventListener('click', () => {
      // Tiny inline sample to avoid network calls
      const sample = `Name,City,Sales
Alice,New York,120
Bob,Miami,95
Cara,Chicago,141`;
      handleText(sample);
    });
  </script>
</body>
</html>
