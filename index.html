<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Dataquill — Turn Your Data Into Decisions</title>
  <meta name="description" content="Dataquill: AI powered embedded analytics platform. Upload a CSV and explore widgets in a clean black-and-teal UI." />

  <!-- Social (adjust og:url after you point to your final domain) -->
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Dataquill — Turn Your Data Into Decisions" />
  <meta property="og:description" content="AI powered embedded analytics platform. Upload a CSV and explore widgets in a clean black-and-teal UI." />
  <meta property="og:url" content="/" />
  <meta name="twitter:card" content="summary_large_image" />

  <style>
    /* ===== THEME ===== */
    :root{
      --bg:#000000;           /* page background */
      --panel:#0b1418;        /* cards */
      --panel-2:#0c1f2c;      /* dim section bg */
      --text:#e9ffff;         /* primary text */
      --muted:#97e7e1;        /* muted text */
      --teal:#17cab2;         /* accent (buttons, focus) */
      --teal-2:#1aa9a0;       /* accent (darker) */
      --dash:#37d5d0;         /* dashed box */
      --ring:0 0 0 2px rgba(23,202,178,.35);
      --radius:16px;
      --shadow:0 18px 48px rgba(0,0,0,.45), inset 0 1px 0 rgba(255,255,255,.03);
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font:16px/1.55 ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
      color:var(--text);
      background: radial-gradient(1200px 500px at 50% -5%, #052226 0%, #020a0c 55%, #000 100%), var(--bg);
      -webkit-font-smoothing:antialiased; text-rendering:optimizeLegibility;
    }

    /* Topbar */
    .topbar{
      position:sticky; top:0; z-index:50;
      display:flex; align-items:center; justify-content:space-between;
      padding:14px 20px; backdrop-filter:saturate(1.2) blur(12px);
      background:linear-gradient(180deg, rgba(0,10,12,.65), rgba(0,10,12,.25) 60%, transparent);
      border-bottom:1px solid rgba(255,255,255,.06);
    }
    .brand{display:flex; align-items:center; gap:10px; font-weight:700; letter-spacing:.2px}
    .logo-dot{width:14px; height:14px; border-radius:8px; background:linear-gradient(180deg,#34ffe0,#00b3a5); box-shadow:0 0 18px #1dd6c4}
    .brand-name{font-size:18px}
    .nav{display:flex; align-items:center; gap:10px}
    .btn{
      display:inline-flex; align-items:center; justify-content:center;
      padding:9px 14px; border-radius:999px; border:1px solid rgba(255,255,255,.08);
      color:var(--text); background:rgba(10,20,24,.35); box-shadow:var(--shadow);
      text-decoration:none; font-weight:600; transition:.2s ease;
    }
    .btn:hover{transform:translateY(-1px); border-color:rgba(255,255,255,.18)}
    .btn.solid{background:linear-gradient(180deg,#1fe3cc,#0f9a90); color:#001314; border:none}

    /* Layout */
    .wrap{max-width:1100px; margin:0 auto; padding:26px 18px 70px}
    .grid{display:grid; gap:18px}
    .hero{grid-template-columns:1fr 1fr}
    @media (max-width:880px){ .hero{grid-template-columns:1fr} }

    /* Cards */
    .card{
      background: radial-gradient(80% 120% at 20% 0%, rgba(16,92,88,.25), transparent 55%) , var(--panel);
      border:1px solid rgba(255,255,255,.07);
      border-radius: var(--radius);
      padding:20px; box-shadow:var(--shadow);
    }
    .card.big{padding:24px}

    .section-title{margin:0 0 10px; font-size:20px}

    /* Drop zone */
    .file-drop{
      margin:10px 0 14px; padding:16px; border-radius:12px;
      border:2px dashed var(--dash); color:var(--muted); text-align:center;
      background:rgba(12,28,35,.45);
    }
    .file-drop.dragover{outline: var(--ring)}

    /* KPI pills */
    .kpis{display:grid; grid-template-columns: repeat(3, minmax(0,1fr)); gap:12px; margin:10px 0 6px}
    .kpi{background:rgba(5,20,26,.65); border:1px solid rgba(255,255,255,.06); border-radius:12px; padding:14px}
    .kpi-value{font-size:22px; font-weight:800}
    .kpi-label{color:var(--muted)}

    /* Chart + table */
    .charts{grid-template-columns:1.1fr .9fr}
    @media (max-width:980px){ .charts{grid-template-columns:1fr} }
    .chart-box, .table-wrap{
      background:rgba(5,18,22,.45); border:1px solid rgba(255,255,255,.06);
      border-radius:12px; padding:12px; min-height:220px;
    }
    table{width:100%; border-collapse:collapse}
    thead th, tbody td{
      padding:10px 10px; border-bottom:1px solid rgba(255,255,255,.06); text-align:left;
      white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
    }

    /* Footer */
    .site-footer{margin-top:36px; color:var(--muted); border-top:1px solid rgba(255,255,255,.08)}
    .site-footer .wrap{padding:18px}

    /* Buttons row */
    .actions{display:flex; flex-wrap:wrap; gap:10px; margin:6px 0 8px}
  </style>
</head>
<body>
  <header class="topbar">
    <div class="brand">
      <span class="logo-dot"></span>
      <span class="brand-name">Dataquill</span>
    </div>
    <nav class="nav">
      <a href="#pricing" class="btn">Pricing</a>
      <a href="#faq" class="btn">FAQ</a>
      <a href="#app" class="btn solid">Live App</a>
    </nav>
  </header>

  <main id="app" class="wrap">
    <!-- HERO -->
    <section class="grid hero">
      <div class="card">
        <h2>AI powered embedded analytics platform</h2>
        <p>Upload a CSV to get instant KPIs, a table view, and a quick chart. Export, white-label, and ship.</p>
      </div>
      <div class="card">
        <h2>Quick charts</h2>
        <p>The first numeric column is charted automatically.</p>
      </div>
    </section>

    <!-- UPLOADER -->
    <section class="card big">
      <h3 class="section-title">Drop or choose a CSV</h3>

      <div class="file-drop" id="fileDrop">
        <input id="csvInput" type="file" accept=".csv" hidden />
        <p>Drag a .csv here or <a href="#" id="browseLink">browse</a></p>
      </div>

      <div class="actions">
        <button class="btn" id="loadSample">Load Sample</button>
        <button class="btn" id="clearData">Clear Data</button>
        <button class="btn" id="exportPng">Export PNG (chart)</button>
        <button class="btn" id="exportPdf">Export PDF</button>
      </div>

      <div class="kpis">
        <div class="kpi">
          <div class="kpi-value" id="rowsCount">0</div>
          <div class="kpi-label">Rows</div>
        </div>
        <div class="kpi">
          <div class="kpi-value" id="colsCount">0</div>
          <div class="kpi-label">Columns</div>
        </div>
        <div class="kpi">
          <div class="kpi-value" id="sampleName">—</div>
          <div class="kpi-label">Sample</div>
        </div>
      </div>

      <div class="grid charts">
        <div class="chart-box">
          <canvas id="chartCanvas" height="220"></canvas>
        </div>
        <div class="table-wrap">
          <table id="dataTable">
            <thead></thead>
            <tbody></tbody>
          </table>
        </div>
      </div>
    </section>

    <!-- PRICING + FAQ -->
    <section id="pricing" class="grid" style="grid-template-columns:1fr 1fr">
      <div class="card">
        <h3>Pricing</h3>
        <p><strong>Free:</strong> Upload CSV and preview widgets instantly.</p>
        <p><strong>Pro (TBD):</strong> Export dashboards, white-label branding, priority support.</p>
      </div>
      <div id="faq" class="card">
        <h3>FAQ</h3>
        <p><strong>Is my data sent to a server?</strong><br/>No. All processing happens in your browser.</p>
        <p><strong>What file formats are supported?</strong><br/>CSV for now. More coming soon.</p>
      </div>
    </section>
  </main>

  <footer class="site-footer">
    <div class="wrap">© 2025 Dataquill. All rights reserved.</div>
  </footer>

  <!-- ===== SCRIPTS (no duplicates) ===== -->
  <script>
    // --- CSV utilities (simple, client-side) ---
    function parseCSV(text){
      // very simple CSV parser (no quotes/escapes handling for brevity)
      return text.trim().split(/\r?\n/).map(r => r.split(","));
    }

    function renderTable(rows){
      const thead = document.querySelector("#dataTable thead");
      const tbody = document.querySelector("#dataTable tbody");
      thead.innerHTML = ""; tbody.innerHTML = "";
      if(!rows.length) return;

      const header = rows[0];
      thead.innerHTML = "<tr>"+ header.map(h=>`<th>${h}</th>`).join("") +"</tr>";
      rows.slice(1).forEach(r=>{
        const tr = document.createElement("tr");
        tr.innerHTML = r.map(c=>`<td>${c}</td>`).join("");
        tbody.appendChild(tr);
      });
    }

    // --- Mini chart (no external libs) ---
    function drawBarChart(rows){
      const canvas = document.getElementById("chartCanvas");
      const ctx = canvas.getContext("2d");
      ctx.clearRect(0,0,canvas.width,canvas.height);
      if(rows.length < 2) return;

      const header = rows[0];
      // pick first numeric column
      let numIdx = -1;
      for(let c=0;c<header.length;c++){
        const v = rows[1][c];
        if(!isNaN(parseFloat(v))){ numIdx = c; break; }
      }
      if(numIdx === -1) return;

      const labels = rows.slice(1).map(r => r[0]);
      const values = rows.slice(1).map(r => Number(r[numIdx]));

      // draw axes
      const W = canvas.width, H = canvas.height, pad = 36;
      const max = Math.max(...values, 1);
      const barW = (W - pad*2) / values.length - 8;

      ctx.strokeStyle = "rgba(255,255,255,.15)";
      ctx.lineWidth = 1;
      ctx.beginPath(); ctx.moveTo(pad, pad); ctx.lineTo(pad, H-pad); ctx.lineTo(W-pad, H-pad); ctx.stroke();

      // bars
      values.forEach((v,i)=>{
        const x = pad + i*(barW+8) + 8;
        const h = (v/max) * (H - pad*2);
        const y = H - pad - h;
        const grad = ctx.createLinearGradient(0,y,0,y+h);
        grad.addColorStop(0, "#1fe3cc");
        grad.addColorStop(1, "#128a84");
        ctx.fillStyle = grad;
        ctx.fillRect(x,y,barW,h);
      });

      // title
      ctx.fillStyle = "rgba(233,255,255,.9)";
      ctx.font = "600 14px ui-sans-serif, system-ui";
      ctx.fillText("Auto chart", pad, pad-10);
    }

    // --- State & wiring ---
    const el = {
      fileDrop: document.getElementById("fileDrop"),
      csvInput: document.getElementById("csvInput"),
      browseLink: document.getElementById("browseLink"),
      loadSample: document.getElementById("loadSample"),
      clearData: document.getElementById("clearData"),
      exportPng: document.getElementById("exportPng"),
      exportPdf: document.getElementById("exportPdf"),
      rows: document.getElementById("rowsCount"),
      cols: document.getElementById("colsCount"),
      sample: document.getElementById("sampleName"),
    };

    function setStats(rows){
      el.rows.textContent = rows.length ? rows.length-1 : 0;
      el.cols.textContent = rows.length ? rows[0].length : 0;
    }

    function loadRows(rows, sampleLabel){
      renderTable(rows);
      drawBarChart(rows);
      setStats(rows);
      el.sample.textContent = sampleLabel || "—";
    }

    function handleFiles(files){
      if(!files || !files[0]) return;
      const f = files[0];
      const reader = new FileReader();
      reader.onload = e=>{
        const rows = parseCSV(String(e.target.result));
        loadRows(rows, f.name);
      };
      reader.readAsText(f);
    }

    // Drag & drop
    el.fileDrop.addEventListener("dragover",e=>{e.preventDefault(); el.fileDrop.classList.add("dragover");});
    el.fileDrop.addEventListener("dragleave",()=> el.fileDrop.classList.remove("dragover"));
    el.fileDrop.addEventListener("drop",e=>{
      e.preventDefault(); el.fileDrop.classList.remove("dragover");
      handleFiles(e.dataTransfer.files);
    });

    // Browse link
    el.browseLink.addEventListener("click", e=>{e.preventDefault(); el.csvInput.click();});
    el.csvInput.addEventListener("change", e=> handleFiles(e.target.files));

    // Load sample
    el.loadSample.addEventListener("click", ()=>{
      const csv = `Name,City,Sales
Alice,New York,120
Bob,Miami,95
Cara,Chicago,141
Dave,Dallas,102
Eva,Seattle,88`;
      loadRows(parseCSV(csv), "Sample: Alice");
    });

    // Clear
    el.clearData.addEventListener("click", ()=>{
      renderTable([]); drawBarChart([]); setStats([]); el.sample.textContent = "—";
      el.csvInput.value = "";
    });

    // Export PNG (chart)
    el.exportPng.addEventListener("click", ()=>{
      const url = document.getElementById("chartCanvas").toDataURL("image/png");
      const a = document.createElement("a");
      a.href = url; a.download = "chart.png"; a.click();
    });

    // Export PDF (simple print of page section)
    el.exportPdf.addEventListener("click", ()=>{
      window.print(); // quick solution (prints the page nicely on iPad Safari/desktop)
    });
  </script>
</body>
</html>
